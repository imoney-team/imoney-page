<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <title>大转盘</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <style>
        body { margin:0 auto; }
        /*大转盘*/
        .game_wheel { position:relative; height:269px; }
        .game_wheel_bd { position:absolute; left:50%; top:0; z-index:1; width:320px; height:326px; margin-left:-160px; background:url("http://static.paipaiimg.com/fd/qqpai/wdadmin/components/img/game_wheel_bg.png") no-repeat 0 0; background-size:319px auto;  }
        .game_wheel_bd:after { position:absolute; bottom:-5px; left:0; right:0; z-index:-1; height:20px; background:-webkit-radial-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0) 50%); background:-moz-radial-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0) 50%); background:radial-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0) 50%); content:""; }
            .game_egg_txt { display:inline-block; line-height:1;}
            .game_wheel_panel { position:absolute; left:28px; top:30px; z-index:1; width:265px; height:265px; background-position:0 0; background-repeat:no-repeat; background-size:265px auto; }
            .game_wheel_panel4 { background-image:url("http://static.paipaiimg.com/fd/qqpai/wdadmin/components/img/game_wheel_4.png"); }
            .game_wheel_panel6 { background-image:url("http://static.paipaiimg.com/fd/qqpai/wdadmin/components/img/game_wheel_6.png"); }
            .game_wheel_panel8 { background-image:url("http://static.paipaiimg.com/fd/qqpai/wdadmin/components/img/game_wheel_8.png"); }
                .game_wheel_pointer { position:absolute; left:77px; top:77px; z-index:1; width:110px; height:110px; border-radius:55px; background:#fcdd86;  }
                .game_wheel_pointer:before { position:absolute; z-index:1; left:22px; top:22px; width:66px; height:66px; border-radius:33px; background:#fff; content:""; }
                .game_wheel_pointer:after { position:absolute; z-index:-1; top:-10px; left:36px; width:38px; height:58px; background:url("http://static.paipaiimg.com/fd/qqpai/wdadmin/components/img/game_wheel_pointer.png") no-repeat 0 0; background-size:38px auto; content:""; }
                .game_wheel_run { position:absolute; left:105px; top:104px; z-index:2; width:55px; height:43px; padding-top:12px; border-radius:26px; background:#ff9900; font-size:14px; text-align:center; line-height:1.1; color:#fff;}
        .game1 .game_award_item { background:#600709; }
            .game1 .game_award_item_hd:after { background-position:0 0; }
            .game1 .game_award_item_bd { background:#78090b; }
            .game1 .game_award_item_bd:after { border-color:#610809; background:#a01316; }
        .game1 .game_info { padding:60px 0 13px; }
        .game1 .game_arrow { border-top:solid 17px #a01316; }
    </style>
    <script src="http://imoney.w3cmm.com/1.1.0/imoney.min.js"></script>
</head>
<body>
    <div class="mod_container wheel">
        <div class="game game1">
            <div class="game_wheel">
                <div class="game_wheel_bd">
                    <div class="game_wheel_panel game_wheel_panel4">
                        <div id="game_wheel_pointer" class="game_wheel_pointer"></div>
                        <div id="game_wheel_run" class="game_wheel_run">立即<br />抽奖</div>
                    </div>
                </div>
            </div>
            <!--<div class="game_wheel">
                <div class="game_wheel_bd">
                    <div class="game_wheel_panel game_wheel_panel6">
                        <div class="game_wheel_pointer"></div>
                        <div class="game_wheel_run">立即<br />抽奖</div>
                    </div>
                </div>
            </div>
            <div class="game_wheel">
                <div class="game_wheel_bd">
                    <div class="game_wheel_panel game_wheel_panel8">
                        <div class="game_wheel_pointer"></div>
                        <div class="game_wheel_run">立即<br />抽奖</div>
                    </div>
                </div>
            </div>  -->
        </div>
    </div>
    <!-- 下面的脚本是分享脚本和推荐位的脚本 -->
    <script>
        $.require(['wheellottery'],function(Wheel){
            //四瓣转盘奖项，这里是一个数据填写不同的奖项，因为有四瓣转盘、六瓣转盘、八瓣转盘
            var awards = ["一等奖","二等奖","谢谢参与","三等奖"];
            //根据开发接口取到究竟中几等奖，暂时随机测试
            var awardsNum = Math.ceil(Math.random()*4);
            var btn = document.getElementById("game_wheel_run");
            var run = function(event){
                //event.stopPropagation();
                //console.log("touch")
                btn.removeEventListener("touchstart",run);
                new Wheel("#game_wheel_pointer",{
                    awards: awards,
                    awardsNum:Math.ceil(Math.random()*4),
                    //转盘完成后会回调
                    callback: function(){
                        //弹出中奖信息
                        alert(awards[this.awardsNum-1]);
                        btn.style.backgroundColor = "#bbb";
                        $("#game_wheel_pointer").css({"-webkit-transform":"rotate(0deg)"})
                    }
                })
            }
            btn.addEventListener("touchstart",run, false);
            
        })
    </script>
</body>
</html>